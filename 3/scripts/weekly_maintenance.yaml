# Weekly Maintenance Script for YMCA Volunteer PathFinder
# Comprehensive weekly maintenance tasks

name: "Weekly Maintenance Tasks"
description: "Automated weekly maintenance and optimization"
version: "1.0"

# Global settings
settings:
  timeout: 3600  # 1 hour
  continue_on_error: true
  log_output: true
  parallel_execution: false

# Task sequence
tasks:
  - name: "Full System Backup"
    type: "backup"
    backup_type: "full"
    output_dir: "./backups/weekly"
    description: "Complete system backup including database and files"
    
  - name: "Clean Old Backups"
    type: "cleanup"
    target: "backups"
    older_than_days: 30
    description: "Remove backups older than 30 days"
    
  - name: "Clean Temporary Files"
    type: "cleanup"
    target: "temp"
    description: "Remove all temporary files"
    
  - name: "Clean Old Log Files"
    type: "cleanup"
    target: "logs"
    older_than_days: 30
    description: "Remove log files older than 30 days"
    
  - name: "Database Maintenance"
    type: "database"
    action: "optimize"
    description: "Optimize database performance"
    
  - name: "Update Analytics"
    type: "analytics"
    action: "rebuild"
    description: "Rebuild analytics cache and statistics"
    
  - name: "Generate Weekly Report"
    type: "report"
    report_type: "weekly_summary"
    output_file: "./reports/weekly_report_{date}.json"
    include_metrics:
      - user_activity
      - matching_performance
      - system_health
      - volunteer_trends
    description: "Generate comprehensive weekly report"
    
  - name: "System Health Check"
    type: "health_check"
    checks:
      - database_connection
      - api_endpoints
      - data_integrity
      - performance_metrics
    description: "Perform system health verification"

# Notification settings
notifications:
  on_success: true
  on_failure: true
  email_recipients:
    - "admin@ymca.org"
    - "tech@ymca.org"
  include_reports: true
  
# Cleanup settings
cleanup:
  temp_files: true
  log_files_older_than: 30
  backup_files_older_than: 60

# Performance monitoring
monitoring:
  track_execution_time: true
  memory_usage_threshold: "500MB"
  cpu_usage_threshold: 80
  alert_on_threshold_breach: true